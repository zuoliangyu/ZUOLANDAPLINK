# ZUOLAN DAPLINK 快速入门指南

本指南帮助您快速上手 ZUOLAN DAPLINK，了解基本功能和操作流程。

## 目录

- [界面概览](#界面概览)
- [烧录模式](#烧录模式)
- [RTT 模式](#rtt-模式)
- [快捷键](#快捷键)
- [常见问题](#常见问题)

---

## 界面概览

应用采用**模式切换架构**，分为"烧录模式"和"RTT 模式"两个独立界面：

```
┌─────────────────────────────────────────────────────────────┐
│ 顶部栏: [Logo]  [🔥烧录] [📟RTT]  [芯片信息] [连接状态]     │
├─────────────┬───────────────────────────────────────────────┤
│  左侧边栏   │                                               │
│  (共用配置) │              主内容区域                       │
│             │         (根据模式显示不同内容)                │
│  - 探针选择 │                                               │
│  - 芯片选择 │                                               │
│  - 接口设置 │                                               │
│  - Pack管理 │                                               │
│  - 连接按钮 │                                               │
└─────────────┴───────────────────────────────────────────────┘
```

### 模式切换

- 点击顶部的 **🔥烧录** 或 **📟RTT** 按钮切换模式
- 使用快捷键 `Ctrl+1`（烧录）或 `Ctrl+2`（RTT）
- 模式选择会自动保存

---

## 烧录模式

烧录模式用于固件烧录、擦除、校验等操作。

### 基本流程

1. **选择探针**
   - 连接 DAPLINK/CMSIS-DAP 探针到 USB
   - 点击刷新按钮检测探针
   - 从下拉列表选择（会显示 DAP 版本）

2. **选择芯片**
   - 在搜索框输入芯片型号（如 `STM32F103C8`）
   - 从搜索结果中点击选择

3. **配置接口**（可选）
   - 展开"接口设置"卡片
   - 选择接口类型（SWD/JTAG）
   - 选择时钟速度（默认 1MHz）

4. **打开固件**
   - 点击"打开"按钮选择固件文件
   - 或直接**拖放固件文件**到界面
   - 支持格式：.hex, .bin, .elf, .axf, .out, .ihex

5. **连接设备**
   - 点击左侧边栏底部的"连接设备"按钮

6. **烧录固件**
   - 点击工具栏"烧录"按钮
   - 查看进度条和日志

### 其他操作

| 操作 | 说明 |
|------|------|
| 擦除 | 全片擦除或自定义范围擦除 |
| 校验 | 校验 Flash 内容与文件一致 |
| 读取 | 读取 Flash 内容到文件 |

---

## RTT 模式

RTT 模式用于实时调试输出和数据可视化。

### 基本流程

1. **配置探针和芯片**（同烧录模式）

2. **连接 RTT**
   - 点击工具栏"连接 RTT"按钮
   - 等待连接成功

3. **启动 RTT**
   - 点击"启动"按钮开始接收数据

4. **查看数据**
   - 文本日志实时显示
   - 支持搜索过滤
   - 支持 Hex 显示模式

### RTT 工具栏

| 按钮 | 功能 |
|------|------|
| 连接/断开 RTT | 建立或断开 RTT 连接 |
| 启动/停止 | 开始或停止数据接收 |
| 暂停/继续 | 暂停或继续显示更新 |
| 清空 | 清空所有日志 |
| 自动滚动 | 自动滚动到最新日志 |
| 文本/Hex | 切换显示模式 |
| 视图模式 | 仅文本/分屏/仅图表 |
| 智能启用 | 自动检测数据格式并配置图表 |
| 导出 | 导出日志为 TXT 文件 |

### 图表功能

RTT 支持实时数据图表，详见 [RTT 图表功能指南](RTT_CHART_GUIDE.md)。

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl + 1` | 切换到烧录模式 |
| `Ctrl + 2` | 切换到 RTT 模式 |

---

## 拖放功能

### 固件拖放（烧录模式）

支持直接拖放固件文件到烧录界面：
- 拖放时会显示蓝色边框提示
- 支持格式：.hex, .bin, .elf, .axf, .out, .ihex

### Pack 拖放导入

支持批量拖放 .pack 文件到 Pack 管理器：
- 展开"CMSIS-Pack 管理"卡片
- 拖放 .pack 文件到卡片区域
- 支持同时拖放多个文件

---

## 常见问题

### 1. 探针检测不到？

- 确认 USB 连接正常
- 尝试重新插拔探针
- 检查驱动是否安装（Windows 下 WinUSB/HID 驱动）
- Linux 用户需配置 udev 规则

### 2. 连接失败？

- 确认目标板供电正常
- 检查 SWD/JTAG 线序是否正确
- 尝试降低时钟速度
- 尝试"复位下连接"模式

### 3. RTT 没有数据？

- 确认目标固件已集成 RTT 库
- 确认调用了 `SEGGER_RTT_Init()`
- 确认目标芯片正在运行
- 详见 [RTT 用户手册](RTT_USER_MANUAL.md)

### 4. 烧录进度卡住？

- 检查 Flash 算法是否正确
- 尝试全片擦除后重新烧录
- 某些芯片可能需要导入对应的 Pack

---

## 更多文档

- [RTT 用户手册](RTT_USER_MANUAL.md) - RTT 功能详细说明和固件集成指南
- [RTT 图表功能指南](RTT_CHART_GUIDE.md) - 数据可视化配置
- [XY 散点图指南](RTT_XY_SCATTER_GUIDE.md) - 高级图表功能
